  
  /productos:
    post:
      tags:
        - Productos
        - Inventario
      summary: Crear un nuevo producto en la base de datos
      description: |
        Este endpoint permite crear un nuevo producto con todos sus detalles.
        Se requiere autenticación para acceder a esta operación.
      operationId: crearProducto
      parameters:
        - in: header
          name: X-Request-ID
          schema:
            type: string
            format: uuid
          description: ID de solicitud único para trazabilidad
          required: false
          example: d290f1ee-6c54-4b01-90e6-d701748f0851
        - in: query
          name: estadoInicial
          schema:
            type: string
            enum: [activo, inactivo, pendiente]
            default: activo
          description: Estado inicial del producto al ser creado
          required: false
      requestBody:
        description: Objeto de producto a añadir
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Producto'
            examples:
              productoEjemplo:
                summary: Ejemplo de producto válido
                value:
                  nombre: Zapatillas Deportivas
                  descripcion: Zapatillas de running para hombre.
                  precio: 79.99
                  stock: 50
                  categoria: Calzado
      responses:
        '201':
          description: Producto creado exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    format: uuid
                    description: ID único del producto creado
                    example: a1b2c3d4-e5f6-7890-1234-567890abcdef
                  nombre:
                    type: string
                    example: Camiseta de Algodón
                  precio:
                    type: number
                    format: float
                    example: 25.99
                  stock:
                    type: integer
                    example: 100
        '400':
          description: Solicitud inválida
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensaje:
                    type: string
                    example: Los datos del producto son inválidos.
        '401':
          description: No autorizado
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensaje:
                    type: string
                    example: Token de autenticación faltante o inválido.
        '409':
          description: Conflicto - El producto ya existe
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensaje:
                    type: string
                    example: Ya existe un producto con el mismo nombre.
      security:
        - bearerAuth: [] # Hace referencia a un esquema de seguridad definido en 'components/securitySchemes'
      callbacks:
        productoCreadoWebhook:
          '{$request.body#/callbackUrl}':
            post:
              summary: Notificación de producto creado
              requestBody:
                content:
                  application/json:
                    schema:
                      type: object
                      properties:
                        idProducto:
                          type: string
                        timestamp:
                          type: string
                          format: date-time
              responses:
                '200':
                  description: Webhook recibido con éxito
      externalDocs:
        description: Más información sobre la gestión de productos
        url: https://ejemplo.com/docs/productos